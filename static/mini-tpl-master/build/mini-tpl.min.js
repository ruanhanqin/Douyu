(function(t,e){if(typeof define==="function"&&define.amd){define(e)}else if(typeof exports==="object"){var n=e();n.__esModule=true;n["default"]=n;module.exports=n}else{t.miniTpl=e()}})(this,function(){function t(t,n){n=n||{};var r=['var tpl = "";'];var u=e(t);for(var i=0,s=u.length;i<s;i++){var p=u[i];if(p.type==1){r.push(p.txt)}else if(p.type==2){var a="tpl+="+p.txt+";";r.push(a)}else{var a='tpl+="'+p.txt.replace(/"/g,'\\"')+'";';r.push(a)}}r.push("return tpl;");return new Function("data",r.join("\n"))(n)}function e(t){var e=[];var r=/<%([\s\S]*?)%>/g;var u;var i=0;while(u=r.exec(t)){n(e,t.substring(i,u.index));var s={type:1,txt:u[1]};if(u[1].substr(0,1)=="="){s.type=2;s.txt=s.txt.substr(1)}e.push(s);i=u.index+u[0].length}n(e,t.substr(i));return e}function n(t,e){e=e.replace(/\r?\n/g,"\\n");t.push({txt:e})}return t});